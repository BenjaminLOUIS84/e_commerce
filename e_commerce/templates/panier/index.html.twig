{# {% extends 'base.html.twig' %} #}

{% block title %}{% endblock %}

{% block body %}
    <!DOCTYPE html>
    <html lang="fr">

        <head>
            <meta charset="utf-8">

            <link rel="stylesheet" href="{{ asset('css/file.css') }}">
            
            <meta http-equiv="X-UA-Compatible" content="IE=edge">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            
            <link rel="preconnect" href="https://fonts.googleapis.com">
            <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
            <link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville&display=swap" rel="stylesheet">
            
            {# Framework Bootstrap #}
            <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
            integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">


            <title>MON PANIER</title>
        </head>

        <body>
            <div class="wrapperPanier">
                <header>
                    <!-- Cette page concerne MON PANIER-->
                    <h3>MON PANIER</h3>

                    <table class="table">
                        <thead>
                            <tr>
                                <th>Produit</th>
                                <th>Prix</th>
                                <th>Quantité</th>
                                <th>Total</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for element in data %}
                                <tr>
                                    <td>{{ element.livre.titre}}</td>
                                    <td>{{ element.livre.prixUnitaire}} €</td>
                                    <td>{{ element.quantity}}</td>
                                    <td>{{ element.quantity * element.livre.prixUnitaire}} €</td> 
                                    <td>
                                        <a href="{{ path('panier_add', {id: element.livre.id})}}" class="btn btn-dark">+</a>
                                        <a href="{{ path('panier_remove', {id: element.livre.id})}}" class="btn btn-dark">-</a>
                                        <a href="{{ path('panier_delete', {id: element.livre.id})}}" class="btn btn-dark">Supprimer</a>
                                    </td>
                                </tr>
                            {% else %}
                            <tr>
                                <td colspan="5">Votre panier est vide</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                        <tfoot>
                            <tr>
                                <td colspan="3">Total</td>
                                <td>{{ total }} €</td>
                                <td>
                                    <a href="{{ path('panier_empty')}}" class="btn btn-dark">Vider</a>
                                </td>
                            </tr>
                        </tfoot>
                    </table>

                    {# Bouton pour mettre le panier dans une commande #}
                    <a href="{{ path ('app_commande_add') }}" class="btn btn-dark">Valider le panier</a>

                    <nav id="men">
                        <div id="menu">
                            <a href="{{ path ('app_livre') }}"><img class="lk" src="{{ asset('img/book-solid.svg') }}" alt="Retour à la liste des livres" title="Retour à la liste des livres"></a>                        
                            <a href="{{ path ('app_user') }}"><img class="lk" src="{{ asset('img/user-solid.svg') }}" alt="Retour à mon espace" title="Retour à mon espace"></a>                        
                        </div>
                    </nav>

                </header>
            </div>

            {# Framework Bootstrap #}
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>

        </body>

    </html>
{% endblock %}
